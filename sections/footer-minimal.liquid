{%- style -%}

  .footer-minimal--{{ section.id }} {
    --footer-background-color: {{ section.settings.background_color }};
    --footer-text-color: {{ section.settings.text_color }};
    --footer-link-color: {{ section.settings.link_color }};
    --footer-border-radius: {{ section.settings.border_radius }}px;
    --footer-spacing: {{ section.settings.spacing }}px;
    --footer-inner-padding: {{ section.settings.inner_padding }}px;
    --newsletter-border-radius: {{ section.settings.newsletter_border_radius }}px;
    
    background-color: var(--footer-background-color);
    color: var(--footer-text-color);
  }

  .footer-minimal--{{ section.id }} h2 {
    color: var(--footer-text-color);
  }

  .footer-minimal--{{ section.id }} a {
    color: var(--footer-link-color);
  }

  .footer-minimal{
    padding: var(--footer-inner-padding) var(--footer-inner-padding) 0 var(--footer-inner-padding);
    margin: 0;
    border-radius: 0;
  }
  
  .footer-minimal a:hover{
    text-decoration: none;
    border-bottom: none;
  }

  .footer-minimal a:hover::before,
  .footer-minimal a:hover::after{
    display: none;
  }

  .footer-minimal--{{ section.id }} .footer-minimal__newsletter form {
    box-shadow: inset 0 0 0 1px var(--footer-text-color);
    border-radius: var(--newsletter-border-radius);
  }

  .footer-minimal--{{ section.id }} .footer-minimal__newsletter form input {
    color: var(--footer-text-color);
  }

  .footer-minimal--{{ section.id }} .footer-minimal__newsletter form button {
    background: var(--footer-text-color);
    color: var(--footer-background-color);
    border-radius: var(--newsletter-border-radius);
  }

.footer-minimal__content {
    display: flex;
    flex-direction: column;
    gap: 4rem;
    padding: 0;
}

.footer-minimal__header {
    display: flex;
    flex-direction: column;
    gap: 4rem;
}

.footer-minimal__header-content{
    display: grid;
    gap: 20px;
    align-items: flex-start;
}

.footer-minimal__menus {
    display: flex;
    gap: 4rem;
    width: fit-content;
}

.footer-minimal__heading {
    font-size: 3rem;
    line-height: 1.1;
    margin: 0;
    max-width: 60rem;
}

.footer-minimal__text {
    font-size: 1.6rem;
    line-height: 1.6;
}

.footer-minimal__menu {
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    gap: 1rem;
    margin: 0;
    min-width: 200px;
}

.footer-minimal__menu a {
    text-decoration: none;
    transition: text-decoration-thickness var(--duration-short) ease;
    font-size: 17px;
}

.footer-minimal__logo {
    max-width: 100%;
    width: 100%;
}

.footer-minimal__logo svg {
    width: 100%;
    height: auto;
}

.footer-minimal__header-content {
    display: flex;
    gap: 1rem;
    width: 100%;
    flex-wrap: wrap;
}

.footer-minimal__copyright {
    font-size: 12px;
    margin: 0;
    width: fit-content;
}

.footer-minimal__copyright-wrapper{
    display: flex;
    gap: 20px;
    align-items: center;
    font-weight: 400;
    margin-top: 80px;
}

.footer-minimal__copyright-wrapper a{
    text-decoration: none;
}

.footer-minimal__policies{
     display: flex;
     gap: 10px;
}

.footer-minimal__policies a{
    opacity: 0.5;
    font-size: 12px;
    font-weight: 400;
}

.footer-minimal__policies a:hover{
    opacity: 1;
}

.footer-minimal__header-content-wrapper{
  width: 100%;
}

.footer-minimal__newsletter form{
    display: flex;
    align-items: center;
    width: fit-content;
    gap: 0;
    height: 40px;
    overflow: hidden;
    margin-top: 20px;
    width: 100%;
}

.footer-minimal__newsletter input{
    height: 100%;
    border: none;
    padding: 0 10px;
    background: transparent;
    outline: none!important;
    border: none!important;
    box-shadow: none!important;
    flex-grow: 1;
}

.footer-minimal__newsletter form button {
    all: unset;
    height: 100%;
    padding: 0 20px;
    outline: none;
    border: none;
    cursor: pointer;
}

.footer-minimal__menu-trigger {
    display: none;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    padding: 0;
    background: none;
    border: none;
    font-size: 17px;
    cursor: pointer;
    color: inherit;
}

.footer-minimal__menu-trigger svg {
    width: 12px;
    height: 12px;
    transition: transform 0.3s ease;
}

.footer-minimal__menu-trigger.is-open svg {
    transform: rotate(180deg);
}

@media screen and (min-width: 990px) {
  .footer-minimal__header-content-wrapper{
    width: 30%;
  }
    .footer-minimal{
        margin: var(--footer-spacing);
        border-radius: var(--footer-border-radius);
    }

    .footer-minimal__content {
        gap: 20px;
        padding-top: 4rem;
    }

    .footer-minimal__header {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        gap: 2rem;
    }

    .footer-minimal__heading {
        font-size: 3.4rem;
    }

    .footer-minimal__menus {
        justify-content: flex-end;
        padding-top: 20px;
        margin-left: auto;
    }
}

  @media screen and (min-width: 750px) {
    .footer-minimal--{{ section.id }} {
      padding-top: 4rem;
      padding-bottom: 4rem;
    }
  }


  @media (max-width: 750px) {
    .footer-minimal__copyright-wrapper{
      flex-direction: column-reverse;
      align-items: flex-start;
      margin-top: 20px;
    }

    .footer-minimal__policies{
      flex-direction: column;
    }
  }

@media screen and (max-width: 749px) {
    .footer-minimal__menu-trigger {
        display: flex;
    }
    
    .footer-minimal__menu {
        display: none;
    }
    
    .footer-minimal__menu.is-open {
        display: flex;
        padding-top: 2rem;
    }

    .footer-minimal__header-content{
      gap: 0;
    }

    .footer-minimal--{{ section.id }} .footer-minimal__menus{
      width: 100%;
      border-bottom: 1px solid var(--footer-text-color);
      padding: 20px 0;
      flex-direction: column;
      gap: 0;
      margin-top: 20px;
    }

    .footer-minimal__menus + .footer-minimal__menus{
      margin-top: 0px;
    }
    
    .footer-minimal__menu-trigger{
      font-size: 15px;
    }
    
    .footer-minimal__menu{
      padding-top: 10px;
      transition: all 0.3s ease;
    }

    .footer-minimal__menu a{
      font-size: 14px;
    }
}
{%- endstyle -%}

<footer class="footer-minimal footer-minimal--{{ section.id }}">
  <div class="footer-minimal__content page-width">
    <div class="footer-minimal__header">
      <div class="footer-minimal__header-content">
        {% for block in section.blocks %}
          {% case block.type %}
            {% when 'heading' %}
              <div class="footer-minimal__header-content-wrapper">
                {% if block.settings.heading != blank %}
                  <h2 class="footer-minimal__heading">{{ block.settings.heading }}</h2>
                {% endif %}
              
                {% if block.settings.show_newsletter %}
                  <div class="footer-minimal__newsletter">
                    {% form 'customer', class: 'footer-minimal__newsletter-form' %}
                      <input type="hidden" name="contact[tags]" value="newsletter">
                      <input type="email" name="contact[email]" class="footer-minimal__newsletter-input" placeholder="{{ block.settings.newsletter_placeholder }}">
                      <button type="submit" class="footer-minimal__newsletter-button">
                        {{ block.settings.button_label }}
                      </button>
                    {% endform %}
                  </div>
                {% endif %}
              </div>
            {% when 'menu' %}
              <div class="footer-minimal__menus">
                {%- if block.settings.menu != blank -%}
                  <button class="footer-minimal__menu-trigger" aria-expanded="false">
                    {{ block.settings.menu.title }}
                    <svg viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M1 1L7 7L13 1" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </button>
                  <ul class="footer-minimal__menu list-unstyled">
                    {%- for link in block.settings.menu.links -%}
                      <li>
                        <a href="{{ link.url }}" class="link">{{ link.title }}</a>
                      </li>
                    {%- endfor -%}
                  </ul>
                {%- endif -%}
              </div>
          {% endcase %}
        {% endfor %}
      </div>
    </div>

    <div class="footer-minimal__copyright-wrapper">
      <p class="footer-minimal__copyright">&copy; {{ 'now' | date: '%Y' }}, {{ shop.name | link_to: routes.root_url -}}</p>
      <div class="footer-minimal__policies">
        {%- for policy in shop.policies -%}
          {%- if policy != blank -%}
            <a href="{{ policy.url }}">{{ policy.title | escape }}</a>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>

    {% if section.settings.show_logo %}
      <div class="footer-minimal__logo">
        {{ section.settings.custom_logo_svg }}
      </div>
    {% endif %}
  </div>
</footer>

<script>
    document.querySelectorAll('.footer-minimal__menu-trigger').forEach(trigger => {
        trigger.addEventListener('click', () => {
            const menu = trigger.nextElementSibling;
            const isOpen = trigger.classList.toggle('is-open');
            menu.classList.toggle('is-open');
            trigger.setAttribute('aria-expanded', isOpen);
        });
    });
</script>

{% schema %}
{
  "name": "Minimal Footer",
  "settings": [
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "link_color",
      "label": "Link Color",
      "default": "#000000"
    },
    {
      "type": "range",
      "id": "border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Footer Border Radius",
      "default": 10
    },
    {
      "type": "range",
      "id": "spacing",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Footer Spacing",
      "default": 20
    },
    {
      "type": "range",
      "id": "inner_padding",
      "min": 0,
      "max": 60,
      "step": 5,
      "unit": "px",
      "label": "Inner Padding",
      "default": 20
    },
    {
      "type": "checkbox",
      "id": "show_logo",
      "label": "Show Logo",
      "default": true
    },
    {
      "type": "html",
      "id": "custom_logo_svg",
      "label": "Custom Logo SVG"
    },
    {
      "type": "range",
      "id": "newsletter_border_radius",
      "min": 0,
      "max": 40,
      "step": 2,
      "unit": "px",
      "label": "Newsletter Border Radius",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "Heading",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Let's make this happen."
        },
        {
          "type": "header",
          "content": "Newsletter"
        },
        {
          "type": "checkbox",
          "id": "show_newsletter",
          "label": "Show newsletter",
          "default": true
        },
        {
          "type": "text",
          "id": "newsletter_placeholder",
          "label": "Email placeholder text",
          "default": "Enter your email"
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label",
          "default": "Subscribe"
        }
      ]
    },
    {
      "type": "menu",
      "name": "Menu",
      "settings": [
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu",
          "default": "footer"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Minimal Footer",
      "blocks": [
        {
          "type": "heading"
        },
        {
          "type": "menu"
        }
      ]
    }
  ]
}
{% endschema %} 